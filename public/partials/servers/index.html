<h2>Servers</h2>

<!-- Add Server button -->
<div class="well well-small">
    <button class="btn btn-default" ng-click="addServer()">
        <i class="icon-plus-sign"></i> Add server
    </button>
</div>

<!-- Servers list -->
<p ng-hide="servers.length">
    Servers are just... servers. Feel free to add some with the button above.
</p>
<table class="table table-hover table-bordered" ng-show="servers.length">
    <thead>
    <tr>
        <th>Name</th>
        <th>IP</th>
        <th>Actions</th>
    </tr>
    </thead>
    <tbody>
    <tr ng-repeat="server in servers | orderBy:'public.name'" id="{{ server._id }}">
        <td>{{ server.public.name }}</td>
        <td>{{ server.public.ip }}</td>
        <td>
            <button class="btn btn-sm btn-default" ng-click="editServer(server)"><i class="icon-edit"></i> Edit</button>
            <button class="btn btn-sm btn-danger" ng-click="removeServer(server)"><i class="icon-trash"></i> Delete</button>
        </td>
    </tr>
    </tbody>
</table>

<!-- Edit Server modal -->
<script type="text/ng-template" id="editServer.html">
    <div class="modal-header">
        <h3>Server details</h3>
    </div>
    <div class="modal-body">
        <form name="editServerForm" snovalidate>
            <div class="control-group">
                <label for="publicName">Name</label>
                <input id="publicName" name="publicName" type="text" placeholder="e.g., server.instance001.cloud.com" ng-model="server.public.name" />
            </div>
            <div class="control-group">
                <label for="ip">IP address</label>
                <input id="ip" name="ip" type="text" placeholder="e.g., 192.168.0.1" ng-pattern="/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/" ng-model="server.public.ip" required />
                <span ng-show="editServerForm.ip.$error.pattern" class="help-inline"></span>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <button class="btn btn-sm btn-primary" ng-click="save()" ng-disabled="editServerForm.$invalid">Save</button>
        <button class="btn btn-sm btn-link" ng-click="cancel()">Cancel</button>
    </div>
</script>

